<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>User Management</title>

  <!-- Material Cdn-->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style> body { font-family: 'Inter', sans-serif; } </style>

  <!-- Stylesheet-->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="user_management.css">

</head>
<body>
  
  <div class="container">
    <!-- Sidebar -->
    <aside>
      <div class="top">
        <div class="logo">
          <img src="./images/logo.JPG" alt="">
          <h2>PO<span class="dGreen">YO</span></h2>
        </div>
        <div class="close" id="close-btn">
          <span class="material-symbols-outlined">close</span>
        </div>
      </div>
      <div class="sidebar">
        <a href="index.html" id="dashboard">
          <span class="material-symbols-outlined">dashboard</span>
          <h3>Dashboard</h3>
        </a>
        <a href="user_management.html" class="active">
          <span class="material-symbols-outlined">manage_accounts</span>
          <h3>User Management</h3>
        </a>
        <a href="feedback.html">
          <span class="material-symbols-outlined">feedback</span>
          <h3>Feedback</h3>
        </a>
        <a href="chat_support.html" id="feedback-support">
          <span class="material-symbols-outlined">support_agent</span>
          <h3>Customer Support</h3>
        </a>
        <a href="notify.html" class="" id="messages">
          <span class="material-symbols-outlined">notifications</span>
          <h3>Notifications</h3>
        </a>
        <a href="delivery.html" class="" id="settings">
            <span class="material-symbols-outlined">local_shipping</span>
            <h3>Delivery</h3>
        </a>
        <a href="#" id="logout">
          <span class="material-symbols-outlined">logout</span>
          <h3>Logout</h3>
        </a>
      </div>
    </aside>

<!------- Main ------->
<main class="user-management">
  <nav class="breadcrumb">
    <a href="index.html">Home</a> /
    <span>User Management</span>
  </nav>
  <div class="um-header">
    <h1>User Management</h1>
    <div class="um-header-actions">
      <button class="btn-primary" id="addUserBtn">+ Add User</button>
      <button class="btn-secondary" id="exportCsvBtn">Export</button>
    </div>
  </div>

  <div class="um-search">
    <input type="text" id="searchInput" placeholder="Search users...">
  </div>

  <div class="um-table-wrapper">
    <table class="um-table">
      <thead>
        <tr>
          <th>User</th>
          <th>Role</th>
          <th>Status</th>
          <th>Permissions</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="userList">
        <!-- Filled dynamically -->
      </tbody>
    </table>
    <div id="loadingSpinner" class="spinner" style="display: none;">
      <p>Loading users...</p>
    </div>
    
    <div id="emptyState" class="empty-state" style="display: none;">
      <p>No users found.</p>
    </div>
  </div>
</main>

<!-- Modern Modal -->
<div id="userModal" class="um-modal">
  <div class="um-modal-content">
    <h2 id="modalTitle">Add User</h2>
    <form id="userForm">
  <label>Full Name</label>
  <input type="text" id="fullname" required />

  <label>Email</label>
  <input type="email" id="email" required />

  <label>Phone Number</label>
  <input type="text" id="phone_number" />

  <label>Role</label>
  <select id="role">
    <option value="Product Manager">Product Manager</option>
    <option value="Operations Manager">Operations Manager</option>
    <option value="Warehouse Associate">Warehouse Associate</option>
    <option value="Manager">Manager</option>
    <option value="HR Specialist">HR Specialist</option>
    <option value="Marketing Manager">Marketing Manager</option>
    <option value="Other">Other</option>
    <option value="Collector">Collector</option>
    <option value="Staff">Staff</option>
    <option value="Admin">Admin</option>
  </select>

  <label>Permissions</label>
<div class="permissions-group">
  <label class="perm-pill">
    <input type="checkbox" value="View Logs" />
    View Logs
  </label>
  <label class="perm-pill">
    <input type="checkbox" value="Manage Account" />
    Manage Account
  </label>
</div>

  <input type="hidden" id="userId" />
  <button type="submit" class="btn-primary full">Save</button>
  <button type="button" class="btn-secondary full" onclick="closeModal()">Cancel</button>
</form>
  </div>
</div>

    <!-- Right Sidebar -->
    <div class="right">
      <div class="top">
        <button id="menu-btn">
          <span class="material-symbols-outlined">menu</span>
        </button>
        <div class="theme-toggler">
          <span class="material-symbols-outlined active">light_mode</span>
          <span class="material-symbols-outlined">dark_mode</span>
        </div>
        <div class="profile">
          <div class="info">
            <p>Hey,</p>
            <b style="text-align: center;">Admin</b>
          </div>
          <div class="profile-photo">
            <img src="./images/admin.webp" alt="" class="pic"/>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="./index.js"></script>

  <!-- Firebase SDKs -->
  <script type="module" src="firebase.js"></script>
  <script type="module" src="user_management.js"></script>
  <div id="toast" class="toast">Action completed</div>
</body>
</html>